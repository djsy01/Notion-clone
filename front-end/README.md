# 노션 클론 - 프론트엔드

React와 TypeScript 기반으로 노션 클론 프론트엔드에서 워크스페이스 및 페이지 관리 UI를 구현하고,  
워크스페이스 삭제 후에도 추가 버튼이 유지되는 문제를 해결했습니다.  
또한, 워크스페이스 우측의 팝업 메뉴 위치 문제와 이벤트 버블링을 개선하였습니다.

---

## 🔧 사용 기술

- vite@6.3.5
- React@19.1.0
- TypeScript@5.8.3
- Recoil@0.7.7 (상태 관리)
- CSS (모듈 및 일반 CSS 혼용)
- react-icons (아이콘)

---

## 📦 사용 라이브러리

- recoil@0.7.7
- react-icons

---

## 🔑 구현된 기능

- 워크스페이스 추가, 삭제, 이름 변경 기능 구현  
- 워크스페이스를 모두 삭제해도 워크스페이스 추가 버튼이 화면에 남아 있도록 수정  
- 워크스페이스 선택 시 페이지 목록 및 상세 영역 동기화  
- 워크스페이스 아이템 우측에 `...` 버튼 클릭 시 노션 스타일 팝업 메뉴 표시  
- 팝업 메뉴 클릭 시 이벤트 버블링 방지 및 외부 클릭 시 팝업 닫힘 처리  
- 팝업 메뉴 위치 CSS 조정 (`position: relative` 추가)로 올바른 위치에 표시

---

## ⚙️ 기술 포인트

- React 상태 초기화 및 선택 상태 관리 개선으로 UX 강화  
- CSS에서 `.workspace-item`에 `position: relative`를 추가해 팝업 메뉴가 정확히 위치하도록 조정  
- 이벤트 핸들러에 `e.stopPropagation()` 사용으로 의도치 않은 이벤트 전파 방지  
- 조건부 렌더링과 컴포넌트 분리로 코드 가독성 향상

---

## 😓 어려웠던 점 및 해결 방법

- **워크스페이스 삭제 후 추가 버튼 사라짐 문제**  
  삭제 후 상태 초기화 시 `workspaceList`가 빈 배열이 되면 조건부 렌더링에서 추가 버튼이 숨겨짐 →  
  항상 추가 버튼이 보이도록 상태 및 렌더링 로직 분리하여 해결

- **팝업 메뉴 위치 문제**  
  팝업 메뉴가 부모 컴포넌트 기준이 아닌 화면 최상단 기준으로 위치하는 문제 발생 →  
  CSS에서 부모 `.workspace-item`에 `position: relative`를 추가해 위치 기준 수정

- **이벤트 버블링으로 인한 팝업 자동 닫힘 문제**  
  팝업 열기 버튼 클릭 시 이벤트가 상위 클릭 이벤트에 전달되어 팝업이 바로 닫히는 문제 →  
  `e.stopPropagation()`을 통해 버블링 차단 처리

- **사용자 정보 요청 시 Layout 튕김 문제**
    - 초기 마운트 시 `GET /auth/me` 요청에서 404 또는 JWT 미인증 에러 발생
    - 이로 인해 `Layout.tsx`가 렌더링되지 않거나, 무한 로딩 상태 진입
    - 해결: `useEffect` 내부에 `try/catch`로 에러 감싸고 `fallback UI` 제공, `Authorization` 헤더 누락 시 기본 처리 추가

---

📅 날짜별 개발 현황

- 2025.06.13
    - 백엔드 `/auth/me` API 연동 및 프론트엔드 사용자 정보 조회 기능 구현
    - `Authorization` 헤더를 포함한 `getMe()` API 호출 작성
    - `Layout.tsx`에서 사용자 정보를 전역 상태로 세팅
    - 사용자 이름 기반 UI 출력 완료 (`아이디 → 사용자명`)
    - 프론트와 백 완전 연동 확인

- 2025.06.04
  - 워크스페이스 삭제 후 추가 버튼 유지 문제 해결  
  - 팝업 메뉴 위치 조정 및 스타일 개선  
  - 이벤트 버블링 문제 해결 및 UX 개선

---

## 🚀 프론트엔드 실행 방법

```bash
cd front-end
npm install
npm run dev
```
- bash 후 사이트에서 **http://localhost:5173/** 검색으로 실행